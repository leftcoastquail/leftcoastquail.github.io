<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <meta name="description" content="Community weather site for Preston, Idaho, USA">
    <title>Weather Where I Am | Preston, Idaho</title>
    <link rel="stylesheet" href="css/normalize.css"> 
    <link rel="stylesheet" href="css/small.css">
    <link rel="stylesheet" href="css/medium.css"> 
    <link rel="stylesheet" href="css/large.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css?family=Poppins|Raleway|Staatliches&display=swap" rel="stylesheet">

</head>

<body>
<div>
    <header class="clearfix">
        <figure class="logo">
            <img src="images/logo-assets/logo0.png" alt="logo"
            srcset="images/logo-assets/logo1.png 1x, 
                    images/logo-assets/logo2.png 2x, 
                    images/logo-assets/logo3.png 3x">
        </figure>
        <h1>Weather Where I Am</h1>
        <h3 class="motto"> Just the weather I need </h3>
                
        <picture>
                <source srcset="images/farm-idaho-mountains-1200.jpg" media="(min-width: 800px)">
                <source srcset="images/farm-idaho-mountains-738.jpg" media="(min-width: 500px) and (max-width: 799px)">
                <img id="preston-banner" src="images/farm-idaho-mountains-360.jpg" alt="Idaho farm with mountains">
        </picture>
    </header>

    <nav class="clearfix">
            <button onclick="toggleMenu()">&#9776;</button>
        <ul id="primaryNav" class="hide">
            <li><a href="index.html" title="Home">Home</a></li>
            <li><a href="preston.html" title="Preston" class="active">Preston</a></li>
            <li><a href="soda-springs.html" title="Soda Springs">Soda Springs</a></li>
            <li><a href="fish-haven.html" title="Fish Haven">Fish Haven</a></li>
            <li><a href="stormcenter.html" title="Storm Center">Storm Center</a></li>
            <li><a href="gallery.html" title="Gallery">Gallery</a></li>
        </ul>   
    </nav>
</div>

<main role="main" class="clearfix main">
    <table> <!--This is where the 5 day forecast goes-->
            <thead>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </thead>
            
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
    
    </table>
    <div class="clearfix currentWeather"> 
            <p>Current Conditions</p>
            <p><span id="cc-current"></span>
                <img id="cc-img" src="" alt=""></img>
            </p>
            <p>Temperature: <span id="cc-temp"></span>&deg; F</p>
            <p>High: <span id="cc-tempHigh"></span>&deg; F </p>
            <p>Humidity: <span id="cc-humidity"></span>&percnt; </p>
            <p>Wind Speed: <span id="cc-windS"></span> mph </p>
            <p>Wind Chill*: <span id="cc-windC"></span>&deg; F</p>
    </div>

    <article>
        <h1 class="header">Preston, Idaho</h1>
        <h3 class="header">Local Weather Story</h3>
        <picture>
            <source srcset="images/wheat-1200.jpg" media="(min-width: 800px)">
            <source srcset="images/wheat-738.jpg" media="(min-width: 500px) and (max-width: 799px)">
            <img id="preston-article" src="images/wheat-360.jpg" alt="Wheat ready to harvest">
        </picture>
            <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum vitae mauris et metus mattis maximus. Duis pulvinar dictum nibh, vel sodales nisi tristique quis. Praesent at tincidunt ante. Curabitur laoreet mollis neque, non congue urna vestibulum vel. Duis ac consequat ex. Sed dictum, risus non mollis eleifend, odio leo consequat eros, semper porta ante urna a nibh. Pellentesque sit amet risus nibh. Nulla at maximus sapien. Nullam dignissim convallis justo et finibus. Duis euismod nunc nisi, ac laoreet dolor tincidunt a. In placerat quam sit amet gravida malesuada. Sed mattis iaculis metus, sed elementum purus rutrum vel. Pellentesque venenatis quam quam, ac egestas nunc hendrerit ut.

            Nam non enim eu leo fringilla tempor. Nunc mattis ultrices tincidunt. Vivamus fermentum tempor nisl, eget congue felis placerat dapibus. Cras mollis pulvinar accumsan. Vivamus tempus nisi nec tellus imperdiet, non vehicula elit ultricies. Maecenas lacinia odio tortor, a vestibulum velit dictum sit amet. Pellentesque luctus, purus eu dignissim commodo, dui augue iaculis leo, a vestibulum quam purus vitae turpis. Sed nec ex vel arcu mollis tempus. Sed lacinia quam vel nunc blandit, in commodo felis lacinia. Donec eget augue odio. Aenean laoreet lacus vel lacinia finibus. Sed elementum lorem ex, et suscipit turpis vehicula quis. Curabitur sollicitudin aliquam quam, vitae porta diam dictum id.
            </p>
    </article>

    <article>
    
        <section class="town-cards">
        <h3>Upcoming Events</h3>
        </section>

        <script>
            var section = document.querySelector('section');
            var requestURL = 'https://byui-cit230.github.io/weather/data/towndata.json';
            /* var requestURL = 'https://raw.githubusercontent.com/leftcoastquail/leftcoastquail.github.io/master/assignments/lesson-9/towns.json'; */
            var request = new XMLHttpRequest();
            request.open('GET', requestURL);
            request.responseType = 'json';
            request.send();
            request.onload = function() {
              var superHeroes = request.response;
              showHeroes(superHeroes);
            }
        
            function showHeroes(jsonObj) {
              var heroes = jsonObj['towns'];
                var myArticle = document.createElement('article');
                var myList = document.createElement('ul');
                var superPowers = heroes[4].events;
                    for(var j = 0; j < superPowers.length; j++) {
                    var listItem = document.createElement('li');
                    listItem.textContent = superPowers[j];
                    myList.appendChild(listItem);
            }

                myArticle.appendChild(myList);
                section.appendChild(myArticle);
              }
            
        </script>
    </article>
</main>

<div id="footer" class="clearfix motto">
    <footer>
        <section>
            <!--The div element for the map -->
            <div id="map"></div>
                <script>
                // Initialize and add the map
                    function initMap() {
                    // The location of Preston
                        var preston = {lat: 42.0963, lng: -111.8766};
                        // The map, centered at Preston
                        var map = new google.maps.Map(
                        document.getElementById('map'), {zoom: 8, center: preston});
                        // The marker, positioned at Preston
                        var marker = new google.maps.Marker({position: preston, map: map});
                            }
                        </script>
                        <script async defer
                            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBqt4yO_ilN0Ii-U6MFAGDcdsydku-ri5c&callback=initMap">
                        </script>
       </section>

                           
                  
        <p>&copy;2019 <br>
        *Please note: The wind chill calculation is only accurate for temperatures at or below 50&deg F and wind speeds above 3 mph.</p>

        </p>
        
        <div>
            <p id="demo"></p>
        </div>

    </footer>
</div>
<script src="js/weatherapi.js"></script>
<script src="js/hamburger.js"></script>
<script src="js/currentdate.js"></script>
</body>
</html>